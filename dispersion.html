<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="css/popup.css">
	<title>宗雯</title>
	<meta name="description" content="宗雯" />
	<meta name="keywords" content="宗雯" />
	<meta name="author" content="梁少林" />
	<meta name="Copyright" content="宗雯" />
	<link rel="stylesheet" type="text/css" href="css/demo.css" />
	<link rel="stylesheet" type="text/css" href="css/dialog.css" />
	<link rel="stylesheet" type="text/css" href="css/dialog-donna.css" />
	<script src="js/modernizr.custom.js"></script>
</head>

<body>
	<button data-dialog="somedialog" class="trigger" style="width: 0;height: 0;opacity: 0;display: none;"></button>
	<div id="somedialog" class="dialog" style="z-index: 9999999;">
		<div class="dialog__overlay"></div>
		<div class="dialog__content">
			<h2><strong>所有的英文字母都可以按下哦</strong></h2>
			<div><button class="action" data-dialog-close>Close</button></div>
		</div>
	</div>
	<audio controls autoplay loop class="audioattr" style='display:none;'>
		<source src="./img/Nigel Silin - Sakura Tears.mp3">
	</audio>
	<div class="popup-container">
		<div class="img-flex"></div>
	</div>
</body>
<script src="./js/classie.js"></script>
<script src="./js/dialogFx.js"></script>
<script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
<script type="text/javascript" src="./js/fragment.js"></script>
<script type="text/javascript">
	$(function () {
		var imgList=['img/smile.jpg','img/swim.jpg','img/princess.jpg','img/longleg.jpg','img/sweet.jpg','img/shortHair.jpg','img/white.jpg','img/glass.jpg','img/redDress.jpg','img/scissors.jpg','img/shuangmawei.jpg','img/ego.jpg'
		,'img/books.jpg','img/cure.jpg','img/road.jpg','img/cars.jpg','img/guitar.jpg','img/reading.jpg','img/black.jpg','img/purples.jpg','img/redPrincess.jpg','img/redCrown.jpg',
			'img/shallow.jpg','img/cool.jpg','img/soCool.jpg','img/tall.jpg','img/6 爱你的人已星夜兼程走在来路.jpg'];
		var fragmentConfig = {
			container: '.img-flex', //显示容器
			line: 15, //多少行
			column: 28, //多少列
			width: 1000, //显示容器的宽度
			animeTime: 9000, //最长动画时间,图片的取值将在 animeTime*0.33 + animeTime*0.66之前取值 
			img: 'img/smile.jpg' //图片路径
		};
		setTimeout(function () {
			fragmentImg(fragmentConfig);
		}, 1000);
		$(document).keyup(function (event) {
			console.log(event.keyCode,imgList.length)
			$('.img-flex').empty()
			if (event.keyCode === 81) {
				fragmentConfig.img =imgList[0]
				fragmentImg(fragmentConfig);
			}
			if (event.keyCode === 87) {
				fragmentConfig.img =imgList[1]
				fragmentImg(fragmentConfig);
			}
			if (event.keyCode === 69) {
				fragmentConfig.img = imgList[2]
				fragmentImg(fragmentConfig);
			}
			if (event.keyCode === 82) {
				fragmentConfig.img =imgList[3]
				fragmentImg(fragmentConfig);
			}
			if (event.keyCode === 84) {
				fragmentConfig.img =imgList[4]
				fragmentImg(fragmentConfig);
			}
			if (event.keyCode === 89) {
				fragmentConfig.img = imgList[5]
				fragmentImg(fragmentConfig);
			}
			if (event.keyCode === 85) {
				fragmentConfig.img =imgList[6]
				fragmentImg(fragmentConfig);
			}
			if (event.keyCode === 73) {
				fragmentConfig.img =imgList[7]
				fragmentImg(fragmentConfig);
			}
			if (event.keyCode === 79) {
				fragmentConfig.img = imgList[8]
				fragmentImg(fragmentConfig);
			}
			if (event.keyCode === 80) {
				fragmentConfig.img =imgList[9]
				fragmentImg(fragmentConfig);
			}
			if (event.keyCode === 65) {
				fragmentConfig.img =imgList[10]
				fragmentImg(fragmentConfig);
			}
			if (event.keyCode === 83) {
				fragmentConfig.img =imgList[11]
				fragmentImg(fragmentConfig);
			}
			if (event.keyCode === 68) { //d
				fragmentConfig.img =imgList[12]
				fragmentImg(fragmentConfig);
			}
			if (event.keyCode === 70) { //f
				fragmentConfig.img = imgList[13]
				fragmentImg(fragmentConfig);
			}
			if (event.keyCode === 71) { //g
				fragmentConfig.img = imgList[14]
				fragmentImg(fragmentConfig);
			}
			if (event.keyCode === 72) { //h
				fragmentConfig.img =imgList[15]
				fragmentImg(fragmentConfig);
			}
			if (event.keyCode === 74) { //j
				fragmentConfig.img = imgList[16]
				fragmentImg(fragmentConfig);
			}
			if (event.keyCode === 75) { //k
				fragmentConfig.img =imgList[17]
				fragmentImg(fragmentConfig);
			}
			if (event.keyCode === 90) { //z
				fragmentConfig.img = imgList[18]
				fragmentImg(fragmentConfig);
			}
			if (event.keyCode === 88) { //x
				fragmentConfig.img = imgList[19]
				fragmentImg(fragmentConfig);
			}
			if (event.keyCode === 67) { //c
				fragmentConfig.img = imgList[20]
				fragmentImg(fragmentConfig);
			}
			if (event.keyCode === 86) { //v
				fragmentConfig.img =imgList[22]
				fragmentImg(fragmentConfig);
			}
			if (event.keyCode === 66) { //b
				fragmentConfig.img = imgList[23]
				fragmentImg(fragmentConfig);
			}
			if (event.keyCode === 78) { //n
				fragmentConfig.img =imgList[24]
				fragmentImg(fragmentConfig);
			}
			if (event.keyCode === 76) { //n
				fragmentConfig.img =imgList[25]
				fragmentImg(fragmentConfig);
			}
			if (event.keyCode === 77) { //m
				fragmentConfig.img =imgList[26]
				fragmentImg(fragmentConfig);
			}
		});
		setTimeout(() => {
			$('.trigger').trigger('click')
		}, 1000);
		var timeNum=0;
		if(!IsPC()){
            setInterval(function () {
                console.log()
                timeNum+=1
                $('.img-flex').empty()
                fragmentConfig.img =imgList[timeNum]
                fragmentImg(fragmentConfig);
            },10000);
		}
        function IsPC() {
            var userAgentInfo = navigator.userAgent;
            var Agents = ["Android", "iPhone",
                "SymbianOS", "Windows Phone",
                "iPad", "iPod"];
            var flag = true;
            for (var v = 0; v < Agents.length; v++) {
                if (userAgentInfo.indexOf(Agents[v]) > 0) {
                    flag = false;
                    break;
                }
            }
            return flag;
        }
		var dlgtrigger = document.querySelector('[data-dialog]'),
			somedialog = document.getElementById(dlgtrigger.getAttribute('data-dialog')),
			dlg = new DialogFx(somedialog);
		dlgtrigger.addEventListener('click', dlg.toggle.bind(dlg));
	});

</script>

</html>